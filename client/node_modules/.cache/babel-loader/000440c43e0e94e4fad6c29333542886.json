{"ast":null,"code":"import _regeneratorRuntime from\"E:/Axoms course/Module B/Mern Stack Projects/contact-manager/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/Axoms course/Module B/Mern Stack Projects/contact-manager/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/Axoms course/Module B/Mern Stack Projects/contact-manager/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import contactContext from'./contactContext';import contactReducer from'./contactReducers';import{ADD_CONTACT,GET_CONTACT,CLEAR_CONTACT,DELETE_CONTACT,SET_CURRENT,CLEAR_CURRENT,UPDATE_CONTACT,FILTER_CONTACT,CLEAR_FILTER,CONTACT_ERROR}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";var ContactState=function ContactState(props){var initialState={contacts:null,current:null,filter:null,error:null};var _useReducer=useReducer(contactReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//set contact\nvar getContact=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/contact');case 3:res=_context.sent;dispatch({type:GET_CONTACT,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getContact(){return _ref.apply(this,arguments);};}();// Add contact\nvar addContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/contact',contact,config);case 4:res=_context2.sent;dispatch({type:ADD_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.data});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addContact(_x){return _ref2.apply(this,arguments);};}();// delete conatact\nvar deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/contact/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x2){return _ref3.apply(this,arguments);};}();// set Current\nvar setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};// clear current\nvar clearCurrent=function clearCurrent(){dispatch({type:CLEAR_CURRENT});};// update contact\nvar updateContact=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(contact){var config,res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:config={headers:{'Content-Type':'application/json'}};_context4.prev=1;_context4.next=4;return axios.put(\"/api/contact/\".concat(contact._id),contact,config);case 4:res=_context4.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function updateContact(_x3){return _ref4.apply(this,arguments);};}();// Filter the contact\nvar filterContact=function filterContact(text){dispatch({type:FILTER_CONTACT,payload:text});};// clear Filter the contact\nvar clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};// clear contact\nvar clearContact=function clearContact(){dispatch({type:CLEAR_CONTACT});};return/*#__PURE__*/_jsx(contactContext.Provider,{value:{contacts:state.contacts,current:state.current,filter:state.filter,error:state.error,addContact:addContact,deleteContact:deleteContact,setCurrent:setCurrent,clearCurrent:clearCurrent,updateContact:updateContact,filterContact:filterContact,clearFilter:clearFilter,getContact:getContact,clearContact:clearContact},children:props.children});};export default ContactState;","map":{"version":3,"sources":["E:/Axoms course/Module B/Mern Stack Projects/contact-manager/client/src/context/contact/ContactState.js"],"names":["React","useReducer","axios","contactContext","contactReducer","ADD_CONTACT","GET_CONTACT","CLEAR_CONTACT","DELETE_CONTACT","SET_CURRENT","CLEAR_CURRENT","UPDATE_CONTACT","FILTER_CONTACT","CLEAR_FILTER","CONTACT_ERROR","ContactState","props","initialState","contacts","current","filter","error","state","dispatch","getContact","get","res","type","payload","data","console","log","addContact","contact","config","headers","post","response","deleteContact","id","delete","setCurrent","clearCurrent","updateContact","put","_id","filterContact","text","clearFilter","clearContact","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport contactContext from './contactContext';\r\nimport contactReducer from './contactReducers';\r\nimport {\r\n  ADD_CONTACT,\r\n  GET_CONTACT,\r\n  CLEAR_CONTACT,\r\n  DELETE_CONTACT,\r\n  SET_CURRENT,\r\n  CLEAR_CURRENT,\r\n  UPDATE_CONTACT,\r\n  FILTER_CONTACT,\r\n  CLEAR_FILTER,\r\n  CONTACT_ERROR,\r\n} from '../types';\r\n\r\nconst ContactState = (props) => {\r\n  const initialState = {\r\n    contacts: null,\r\n    current: null,\r\n    filter: null,\r\n    error: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(contactReducer, initialState);\r\n\r\n  //set contact\r\n  const getContact = async () => {\r\n    try {\r\n      const res = await axios.get('/api/contact');\r\n      dispatch({ type: GET_CONTACT, payload: res.data });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // Add contact\r\n  const addContact = async (contact) => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    try {\r\n      const res = await axios.post('/api/contact', contact, config);\r\n      dispatch({ type: ADD_CONTACT, payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: CONTACT_ERROR, payload: err.response.data });\r\n    }\r\n  };\r\n\r\n  // delete conatact\r\n  const deleteContact = async (id) => {\r\n    try {\r\n      await axios.delete(`/api/contact/${id}`);\r\n      dispatch({ type: DELETE_CONTACT, payload: id });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // set Current\r\n  const setCurrent = (contact) => {\r\n    dispatch({ type: SET_CURRENT, payload: contact });\r\n  };\r\n\r\n  // clear current\r\n  const clearCurrent = () => {\r\n    dispatch({ type: CLEAR_CURRENT });\r\n  };\r\n\r\n  // update contact\r\n\r\n  const updateContact = async (contact) => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    try {\r\n      const res = await axios.put(\r\n        `/api/contact/${contact._id}`,\r\n        contact,\r\n        config\r\n      );\r\n      dispatch({ type: UPDATE_CONTACT, payload: res.data });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // Filter the contact\r\n  const filterContact = (text) => {\r\n    dispatch({ type: FILTER_CONTACT, payload: text });\r\n  };\r\n\r\n  // clear Filter the contact\r\n\r\n  const clearFilter = () => {\r\n    dispatch({ type: CLEAR_FILTER });\r\n  };\r\n\r\n  // clear contact\r\n  const clearContact = () => {\r\n    dispatch({ type: CLEAR_CONTACT });\r\n  };\r\n  return (\r\n    <contactContext.Provider\r\n      value={{\r\n        contacts: state.contacts,\r\n        current: state.current,\r\n        filter: state.filter,\r\n        error: state.error,\r\n        addContact,\r\n        deleteContact,\r\n        setCurrent,\r\n        clearCurrent,\r\n        updateContact,\r\n        filterContact,\r\n        clearFilter,\r\n        getContact,\r\n        clearContact,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </contactContext.Provider>\r\n  );\r\n};\r\nexport default ContactState;\r\n"]},"metadata":{},"sourceType":"module"}